<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://vjs.zencdn.net/7.14.3/video-js.css" rel="stylesheet">
  <script src="https://vjs.zencdn.net/7.14.3/video.js"></script>
  <title>Multiview M3U8 Players</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .player-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      width: 100%;
      max-width: 1600px;
      padding: 20px;
      box-sizing: border-box;
    }
    .media-container {
      background-color: #111;
      padding: 10px;
      border-radius: 10px;
      text-align: center;
    }
    .media-container h2 {
      margin: 10px 0;
      font-size: 20px;
    }
    .vjs-default-skin {
      border-radius: 10px;
    }
    video {
      border-radius: 10px;
      width: 100%;
      height: auto;
      min-height: 300px;
    }
    iframe {
      border-radius: 10px;
      width: 100%;
      height: auto;
      min-height: 300px;
    }
    .control-button {
      margin: 10px 0;
      padding: 10px 20px;
      font-size: 16px;
      color: #fff;
      background-color: #007bff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .control-button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <!-- Play All Button -->
  <button class="control-button" onclick="playAllPlayers()">Play All</button>

  <!-- Media Grid -->
  <div class="player-grid">
    <!-- Player 1 -->
    <div class="media-container">
      <h2>KCAL</h2>
      <video id="player1" class="video-js vjs-default-skin" controls preload="auto" width="490%" height="auto">
        <source src="https://cbsn-la.cbsnstream.cbsnews.com/out/v1/57b6c4534a164accb6b1872b501e0028/master_1.m3u8" type="application/x-mpegURL">
      </video>
      <button class="control-button" onclick="takeSnapshot('player1')">Snapshot KCAL</button>
    </div>

    <!-- Player 2 -->
    <div class="media-container">
      <h2>KNBC</h2>
      <video id="player2" class="video-js vjs-default-skin" controls preload="auto" width="490%" height="auto">
        <source src="https://nbculocallive.akamaized.net/hls/live/2037084/losangeles/stream1/master_1080.m3u8" type="application/x-mpegURL">
      </video>
      <button class="control-button" onclick="takeSnapshot('player2')">Snapshot KNBC</button>
    </div>

    <!-- Player 3 -->
    <div class="media-container">
      <h2>KABC</h2>
      <video id="player3" class="video-js vjs-default-skin" controls preload="auto" width="490%" height="auto">
        <source src="https://content.uplynk.com/channel/ext/2118d9222a87420ab69223af9cfa0a0f/kabc_24x7_news.m3u8" type="application/x-mpegURL">
      </video>
      <button class="control-button" onclick="takeSnapshot('player3')">Snapshot KABC</button>
    </div>

    <!-- Player 4 -->
    <div class="media-container">
      <h2>Telemundo52</h2>
      <video id="player4" class="video-js vjs-default-skin" controls preload="auto" width="490%" height="auto">
        <source src="https://nbculocallive.akamaized.net/hls/live/2037084/losangeles/stream6/master_720.m3u8" type="application/x-mpegURL">
      </video>
      <button class="control-button" onclick="takeSnapshot('player4')">Snapshot Telemundo52</button>
    </div>

    <!-- Iframe 1 -->
    <div class="media-container">
      <h2>FOXLA</h2>
      <iframe src="https://w3.mp.lura.live/player/3.12.14/v3/anvload.html?key=eyJtIjoiS1RUViIsInYiOiJhZHN0YWdWR01ESnFaTnlYIiwiYXV0b3BsYXkiOnRydWUsInRyYWNrVGltZVBlcmlvZCI6MSwid2lkdGgiOiIxMDAlIiwiYW52YWNrIjoiYm1RdjhuWE1hbENPb2JCaHZocG85ZU1URTFPek40bEQiLCJzaGFyZUxpbmsiOiJodHRwczovL3d3dy5mb3hsYS5jb20vbGl2ZSIsInBsdWdpbnMiOnsiY3VzdG9tQ29tc2NvcmVQbHVnaW4iOnsiYzMiOiJGT1ggMTEgTG9zIEFuZ2VsZXMiLCJjNiI6IkZUUyIsInNjcmlwdCI6Imh0dHBzOi8vc3RhdGljLmZveHR2LmNvbS9zdGF0aWMvb3Jpb24vc2NyaXB0cy9jb3JlL3V0aWxzL2NvbXNjb3JlL05hdGl2ZUNvbXNjb3JlUGx1Z2luLmpzIiwic2RrIjoiaHR0cHM6Ly9zdGF0aWMuZm94dHYuY29tL3N0YXRpYy9vcmlvbi9zY3JpcHRzL2NvcmUvdXRpbHMvY29tc2NvcmUvY29tc2NvcmUuanMiLCJjbGllbnRJZCI6IjYwNDI5MDEiLCJuc19zdF9zdCI6IktUVFYiLCJ0aXRsZSI6IiIsIm5zX3N0X2NpIjoiIiwiYzQiOm51bGwsInNldEdlbnJlTmFtZSI6Ik5ld3MiLCJhcHBOYW1lIjoiRk9YIDExIExvcyBBbmdlbGVzIE5ld3MgQXBwIn0sImRmcCI6eyJjbGllbnRTaWRlIjp7ImFkVGFnVXJsIjoiaHR0cHM6Ly9wdWJhZHMuZy5kb3VibGVjbGljay5uZXQvZ2FtcGFkL2xpdmUvYWRzP2l1PS81NTU1NTU1NS9rdHR2X2ZveDExJmRlc2NyaXB0aW9uX3VybD1bcGxhY2Vob2xkZXJdJmVudj12cCZpbXBsPXMmY29ycmVsYXRvcj0mdGZjZD0wJm5wYT0wJmdkZnBfcmVxPTEmb3V0cHV0PXZhc3Qmc3o9MTAwMXgxMDAxJnVudmlld2VkX3Bvc2l0aW9uX3N0YXJ0PTEiLCJrZXlWYWx1ZXMiOnsicHR5cGUiOiJ2aWRlby1saXZlIiwidXNfcHJpdmFjeSI6IjFZTk4ifX0sInNlcnZlclNpZGUiOnsidXNfcHJpdmFjeSI6IjFZTk4ifX0sInBhbCI6eyJwcGlkIjoiN2Q3YmNiODEtNjczYy00MmJjLTk2OGYtMTE5YzU5ZjZjZjUxIiwibm9uY2VQZXJpb2QiOjMwMCwibm9uY2VUaW1lb3V0Ijo1LCJkZXNjcmlwdGlvblVybCI6Imh0dHBzOi8vd3d3LmZveGxhLmNvbS9saXZlIiwibGlicmFyeVJlcXVlc3RlZCI6dHJ1ZX0sIm5hdGl2ZUhlYXJ0YmVhdFBsdWdpbiI6eyJzY3JpcHQiOiJodHRwOi8vc3RhdGljLmZveHR2LmNvbS9zdGF0aWMvb3Jpb24vc2NyaXB0cy9jb3JlL3V0aWxzL2Fkb2JlL0N1c3RvbUhlYXJ0YmVhdFBsdWdpbi5qcyIsInByaW1hcnlfYnVzaW5lc3NfdW5pdCI6ImZ0cyIsInNlY29uZGFyeV9idXNpbmVzc191bml0Ijoia3R0diIsImFwcF9uYW1lIjoiZm94bGEuY29tIiwiYXBwX3BsYXRmb3JtIjoid2ViIiwiYXBwX3ZlcnNpb24iOiIxLjAuMCIsInBsYXllclVuaXF1ZUlkIjoicGxheWVyLWNlN2ZkYWY3LTAxNTAtNGFkNC1iNGIzLTY2YTVhZTIwMmM3ZCIsInZpZGVvX2lkIjoiYWRzdGFnVkdNREpxWk55WCJ9fSwiaHRtbDUiOnRydWUsInRva2VuIjoiYndQOXM1cEg1RVJKemp1TDZSb19qX1pESkJsUkRVN3JWV0pwVEU0TDhSOH5NbjR3ZmcifQ%253D%253D" frameborder="0" allowfullscreen></iframe>
    </div>

    <!-- Iframe 2 -->
    <div class="media-container">
      <h2>KTLA5</h2>
      <iframe src="https://w3.mp.lura.live/player/prod/v3/anvload.html?key=eyJtIjoiTElOIiwidiI6ImFkc3RBR2xObVk4dmU2cDUiLCJhbnZhY2siOiJYOFBPYTR6cEdaTW1laXEwd3FpTzhJUDVyTXFRTTlWTiIsInNoYXJlTGluayI6Imh0dHBzOi8va3RsYS5jb20vb24tYWlyL2xpdmUtc3RyZWFtaW5nLyIsInBsdWdpbnMiOnsiY29tc2NvcmUiOnsiY2xpZW50SWQiOiI2MDM2NDM5IiwiYzMiOiJrdGxhLmNvbSIsInZlcnNpb24iOiI1LjIuMCIsInVzZURlcml2ZWRNZXRhZGF0YSI6dHJ1ZSwibWFwcGluZyI6eyJjMyI6Imt0bGEuY29tIiwibnNfc3Rfc3QiOiJrdGxhIiwibnNfc3RfcHUiOiJOZXhzdGFyIiwibnNfc3RfZ2UiOiJOZXdzIiwiYzQiOiJsaXZlc3RyZWFtIiwiY3NfdWNmciI6MX19LCJkZnAiOnsiY2xpZW50U2lkZSI6eyJhZFRhZ1VybCI6Imh0dHBzOi8vcHViYWRzLmcuZG91YmxlY2xpY2submV0L2dhbXBhZC9saXZlL2Fkcz9zej05eDEwMDAmaXU9LzU2Nzgvbngua3RsYS9saXZlc3RyZWFtJnZwb3M9cHJlcm9sbCZpbXBsPXMmZ2RmcF9yZXE9MSZlbnY9dnAmb3V0cHV0PXZhc3QmdW52aWV3ZWRfcG9zaXRpb25fc3RhcnQ9MSZwbW5kPTAmcG14ZD0zMDAwMCZwbWFkPTEmY29udGVudF9jaGFubmVsPUtUTEEmY29udGVudF9saXZlc3RyZWFtPTEmdXJsPWh0dHBzOi8va3RsYS5jb20vb24tYWlyL2xpdmUtc3RyZWFtaW5nLyZkZXNjcmlwdGlvbl91cmw9aHR0cHM6Ly9rdGxhLmNvbSZjb3JyZWxhdG9yPTE3MDYxNjIzOTEuMzM5NCZwcGlkPWIwNmVkOWY1LTY2ZmItNDRmNy04MDVkLTk4OWEyOTJjNGRjOS0xNjY4OTI0NTU0MDk3JmN1c3RfcGFyYW1zPXBsYXllcndpZHRoJTNENzQwJTI2cGxheWVyaGVpZ2h0JTNENDE2JTI2dXBpZCUzRDNiNjY1YTNiLTQyOWEtNDE4YS1iZmVlLTAyMjlmZGU3Y2QwNiUyNmNvbnRlbnRfY2F0JTNEdW5kZWZpbmVkJTI2Y29udGVudF9nZW5yZSUzRHVuZGVmaW5lZCUyNnJlZmlkJTNERGlyZWN0JTI2Y29udGVudF9jaGFubmVsJTNES1RMQSUyNnBlcnNfY2lkJTNEbnhzdHJpYi00LXBhZ2UtMzAlMjZwZXJtdXRpdmUlM0Q4NTIwMCUyQzkzODczJTJDOTQyNTclMkM5NDI1OSUyQzk0MjYwJTJDOTQzNDQlMkM5NDM0NiUyQzk0MzQ3JTJDOTQ0OTQlMkM5NDYxMSUyQzk0NjE5JTJDOTQ2MjAlMkM5NDgwMiUyQzk0ODAzJTJDOTQ5NjElMkM5OTA2NSUyQzk5MDY2JTJDMTAxMDc0JTJDMTAxMDc1JTJDMTA2ODgzJTJDMTE0ODExJTJDMTIwNTI1JTJDMTM3MzU3JTI2ZF9jb2RlJTNEMjg4JTJDMjk0JTJDMjkwJTI2dnBpZiUzRGZhbHNlJTI2dmlkJTNEYWRzdEFHbE5tWTh2ZTZwNSIsImlzRnJlZXdoZWVsIjpmYWxzZSwidnBhaWRNb2RlIjoiaW5zZWN1cmUifSwic2VydmVyU2lkZSI6eyJwcGlkIjoiYjA2ZWQ5ZjUtNjZmYi00NGY3LTgwNWQtOTg5YTI5MmM0ZGM5LTE2Njg5MjQ1NTQwOTciLCJkZXNjcmlwdGlvblVybCI6Imh0dHBzJTNBJTJGJTJGa3RsYS5jb20lMkZvbi1haXIlMkZsaXZlLXN0cmVhbWluZyUyRiIsInBhcmFtcyI6InBsYXllcndpZHRoJTNENzQwJTI2cGxheWVyaGVpZ2h0JTNENDE2JTI2dXBpZCUzRDNiNjY1YTNiLTQyOWEtNDE4YS1iZmVlLTAyMjlmZGU3Y2QwNiUyNnBlcm11dGl2ZSUzRDg1MjAwJTJDOTM4NzMlMkM5NDI1NyUyQzk0MjU5JTJDOTQyNjAlMkM5NDM0NCUyQzk0MzQ2JTJDOTQzNDclMkM5NDQ5NCUyQzk0NjExJTJDOTQ2MTklMkM5NDYyMCUyQzk0ODAyJTJDOTQ4MDMlMkM5NDk2MSUyQzk5MDY1JTJDOTkwNjYlMkMxMDEwNzQlMkMxMDEwNzUlMkMxMDY4ODMlMkMxMTQ4MTElMkMxMjA1MjUlMkMxMzczNTcifX0sIm5pZWxzZW4iOnsiYXBpZCI6IlA4MDExRDcxMC1GQjVGLTQ0NjctOTVBRi0yNTczMTczN0YyRUYiLCJzZmNvZGUiOiJkY3IiLCJ0eXBlIjoiZGNyIiwiYXBuIjoiQW52YXRvIiwiZW52aXJvbm1lbnQiOiJwcm9kdWN0aW9uIiwidXNlRGVyaXZlZE1ldGFkYXRhIjp0cnVlLCJtYXBwaW5nIjp7ImFkbG9hZHR5cGUiOjIsImFkTW9kZWwiOjJ9LCJvcHRPdXQiOmZhbHNlfSwic2VnbWVudEN1c3RvbSI6eyJzY3JpcHQiOiJodHRwczovL3NlZ21lbnQucHNnLm5leHN0YXJkaWdpdGFsLm5ldC9hbnZhdG8uanMiLCJ3cml0ZUtleSI6ImhnRmpBMzJwMXV5ZWh6dkdjVDlMRWZQeWtCQUpKNmpPIiwicGx1Z2luc0xvYWRpbmdUaW1lb3V0IjoxMiwicGxheWVyTmFtZSI6IlN0b3J5IEVtYmVkIn0sImdvb2dsZUFuYWx5dGljcyI6eyJ0cmFja2luZ0lkIjoiIiwiZXZlbnRzIjp7IkFEX1NUQVJURUQiOnsiYWxpYXMiOiJWaWRlby1BZCIsImNhdGVnb3J5IjoiVmlkZW8iLCJsYWJlbCI6IltbVElUTEVdXSJ9LCJWSURFT19TVEFSVEVEIjp7ImFsaWFzIjoiVmlkZW8tUGxheSIsImNhdGVnb3J5IjoiVmlkZW8iLCJsYWJlbCI6IltbVElUTEVdXSJ9LCJWSURFT19GSVJTVF9RVUFSVElMRSI6eyJhbGlhcyI6IlZpZGVvLTI1JSIsImNhdGVnb3J5IjoiVmlkZW8iLCJsYWJlbCI6IltbVElUTEVdXSJ9LCJWSURFT19NSURfUE9JTlQiOnsiYWxpYXMiOiJWaWRlby01MCUiLCJjYXRlZ29yeSI6IlZpZGVvIiwibGFiZWwiOiJbW1RJVExFXV0ifSwiVklERU9fVEhJUkRfUVVBUlRJTEUiOnsiYWxpYXMiOiJWaWRlby03NSUiLCJjYXRlZ29yeSI6IlZpZGVvIiwibGFiZWwiOiJbW1RJVExFXV0ifSwiVklERU9fQ09NUExFVEVEIjp7ImFsaWFzIjoiVmlkZW8tMTAwJSIsImNhdGVnb3J5IjoiVmlkZW8iLCJsYWJlbCI6IltbVElUTEVdXSJ9LCJVU0VSX1BBVVNFIjp7ImFsaWFzIjoiUGF1c2UiLCJjYXRlZ29yeSI6IlZpZGVvIiwibGFiZWwiOiJbW1RJVExFXV0ifSwiVVNFUl9SRVNVTUUiOnsiYWxpYXMiOiJSZXN1bWUiLCJjYXRlZ29yeSI6IlZpZGVvIiwibGFiZWwiOiJbW1RJVExFXV0ifX19LCJwYWwiOnsicHBpZCI6ImIwNmVkOWY1LTY2ZmItNDRmNy04MDVkLTk4OWEyOTJjNGRjOS0xNjY4OTI0NTU0MDk3IiwiZGVzY3JpcHRpb25VcmwiOiJodHRwcyUzQSUyRiUyRmt0bGEuY29tJTJGb24tYWlyJTJGbGl2ZS1zdHJlYW1pbmclMkYiLCJsaWJyYXJ5UmVxdWVzdGVkIjp0cnVlfX0sImh0bWw1Ijp0cnVlLCJ0b2tlbiI6ImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUoyYVdRaU9pSmhaSE4wUVVkc1RtMVpPSFpsTm5BMUlpd2lhWE56SWpvaVdEaFFUMkUwZW5CSFdrMXRaV2x4TUhkeGFVODRTVkExY2sxeFVVMDVWazRpTENKbGVIQWlPakUzTURZeE5qVTVPVEY5LlJFb0YwZ3pkcEl5dWpzZjJHUVoteTM1ZTJXUjNfT1ZobHVZY1BhRmx6SzgifQ%3D%3D" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
  
  <!-- Player 5 -->
  <div class="media-container">
    <h2>Estrella News</h2>
    <video id="player5" class="video-js vjs-default-skin" controls preload="auto" width="490%" height="auto">
      <source src="https://amg00567-estrellamedia-estrellanews-estrellamedia-jrwr5.amagi.tv/playlist/amg00567-estrellamedia-estrellanews-estrellamedia/cb543d1e7c6c64869ed43d67d0ef42a0f94b1fde1d6988693eb5518975d1073edce2a59caa08ff16388f1ede7f0a66413a3e951fda77118fd87eb141453c5728cfffe729a2c05616b7db083429b56a062a866a68ac39437ed0e21f48a238b6720a5aa82a66443d80b846ac7451db80148b61299bce8c37683f03409a5e5afba358b380813f5ad96ca8af1c56953145f59647c0d54db280d40d8341d571f5099c93a5ddce18d68ec77ead02b46d0809722e9fd220c79321dcb69b6d2ad2703856215be7ae968c2256ec425048eafac7b364eb0594d04ff06133a84e995f940f997fa51ba2de5bb2a1c99b280331b0d04b727defaab79dec7b36ae72e9a7e5d172688fb817774a8669dd34223b95ee9167eeaa1492a56d86bb790d39b2f72fffcd306327eae320fb24ced4ba9c33563c006e63d607eff00ada2dce36a1c812531e2704f5980492d7dc0c60644ed4d009821042e988d2d48d58699239180bb8358a5d5536815e0b7de13eb79e3568fb6460c56d3faa0e648510acbe2da7f78cb30562e58d9e15ad39bded53d1a752fc3e3a0958c498445e415f33c4fe691e4212a92cd6f6facd562a25c1d2978aaa392d14060740059de3e469e9e8aa4d4c2fef7d7c291e7e1692179868cf1076023bc71adfa97b03ef732222ebe93a4e4e7e93c4bd808ad3ce4db431dcdbe96357513762b9204b337deca69f50eb394867083bea6b357a9329003580fdc8e18ace7dc29560d853087d51e0c03b602a775e4650ecfa00d65af1dd1ea988db2ea785e42060b510822235b3f58617928180c35c4199ac5626738ec322b71847ae04d1389bdb7fd6b9515c34562749c69d1aea4db5adc7ad709238b95f103bb959fecec5f6844041f0860436201d4712735e77381af6d9da694529caf974c04ee3e841a04d5a766c63d28b165b95ed7408953a705257c1a1f3c54ba88da8149640fa226e9359043ae4c878d997b3e7ff941d2c6abb988a3c762515e3b6bbe4296c1f6470bacc5a477edb278ae26f6f7fb51e9deebbe4d9619e78e377ceec6ff1415ed2a99f2fd4fabefff77e11514859f5c0bd9d7ebee55b16e82a8901457dedac106203c49a9d270112539266a794939e3e9eafe18825c52eaaef3a2ba8ab664aea553cc6e5f3230ff2ffc64a2f50fed7886237ce8c5add1ddbddc00642880709f7077055ec2daac9ef322fd6b51d5605b64b1fda23cd88f84c497eaba563270104185a5c8217127fb27e228e3286c9cefd282c870a8f4f18ba7aa4cd1ee78104fcfcc9f6e1b46a36e9a74246bc5fa738b825cfcb86b76df7042ff93ed1355294908dae91a297f99f914e286dfc2eac00c67295d1bad12456781df03b7b1b78b24db9486336bbd450d8a6371da4ccf214d00346054f5407c617ba93025b0744ade36e96c96572630f61b1961ed633760aaf95bda06b716d0f961087c2fa/195/1920x1080_5253600/index.m3u8" type="application/x-mpegURL">
    </video>
    <button class="control-button" onclick="takeSnapshot('player5')">Snapshot Estrella News</button>
  </div>

<!-- Canvas for snapshot -->
<canvas id="snapshot" style="display: none;"></canvas>

<script>
  // Initialize the video.js players
  var players = ['player1', 'player2', 'player3', 'player4', 'player5'].map(id => videojs(id));

  // Function to take a snapshot of a video
  function takeSnapshot(playerId) {
    var player = videojs(playerId);
    var videoElement = player.el().getElementsByTagName('video')[0];
    var canvas = document.getElementById('snapshot');
    var context = canvas.getContext('2d');
    canvas.width = videoElement.videoWidth;
    canvas.height = videoElement.videoHeight;
    context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);

    // Trigger download
    canvas.toBlob(function(blob) {
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a');
      a.href = url;
      a.download = `${playerId}_snapshot.png`;
      a.click();
      URL.revokeObjectURL(url);
    }, 'image/png');
  }

  // Function to play and refresh all video players
  function playAllPlayers() {
    players.forEach(player => {
      // Refresh the player by reloading the source
      var currentSrc = player.currentSrc();
      player.src({ type: 'application/x-mpegURL', src: currentSrc });
      player.load();
      player.play();
    });
  }
</script>

</body>
</html>
